# Enhanced IRC Daemon Configuration
# This configuration includes all the new database, broadcasting, and network features

[server]
name = "rustircd.example.com"
description = "Rust IRC Daemon with Enhanced Features"
version = "0.1.0"
created = "2024-01-01"
max_clients = 1000
max_channels_per_client = 50

[network]
name = "RustNet"
description = "A Rust-based IRC network"
links = []
operators = [
    { name = "admin", password = "secret", hostmask = "*@*", privileges = ["all"] }
]
super_servers = [
    { name = "hub.example.com", hostname = "hub.example.com", port = 6667, password = "linkpass", tls = false, privileges = ["all"] }
]

[connection]
port = 6667
tls_port = 6697
bind_address = "0.0.0.0"
max_connections_per_ip = 5
connection_timeout = 300
ping_timeout = 120

[security]
tls = true
cert_file = "certs/server.crt"
key_file = "certs/server.key"
cipher_suites = ["TLS_AES_256_GCM_SHA384", "TLS_CHACHA20_POLY1305_SHA256"]

[modules]
module_directory = "modules"
enabled_modules = ["channel", "ircv3", "optional"]
module_settings = {}

# New database configuration
[database]
max_history_size = 10000
history_retention_days = 30
enable_channel_tracking = true
enable_activity_tracking = true

# Cache configuration (optional - improves lookup performance by 10-100x)
user_cache_size = 10000              # Max cached nicknameâ†’UUID mappings
user_cache_ttl_seconds = 300         # 5 minutes user cache TTL
channel_cache_ttl_seconds = 30       # 30 seconds channel member cache TTL

# Recommended settings by network size:
#   Small (<1000):      10000 cache, 300s TTL (default)
#   Medium (1K-5K):     25000 cache, 600s TTL
#   Large (5K-10K):     50000 cache, 900s TTL
#   Very Large (>10K):  100000 cache, 1800s TTL

# New broadcasting configuration
[broadcast]
max_concurrent_queries = 100
query_timeout_seconds = 30
enable_network_queries = true
enable_efficient_broadcasting = true

[services]
services_directory = "services"
enabled_services = []
service_settings = {}
